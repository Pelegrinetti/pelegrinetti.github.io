<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Zoo Animals</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="./assets/css/main.css" />
  </head>
  <body>
    <main>
      <h1 class="main-title">Zoo Animals</h1>
      <div class="content">
        <div class="content-column">
          <h2 class="sub-title">Animal</h2>
          <div id="animal"></div>
        </div>
      </div>

      <h1 class="main-title">See more</h1>
      <div class="content">
        <div class="content-column">
          <ol id="see-more-list"></ol>
        </div>
      </div>
    </main>
    <script>
      (async () => {
        const response = await fetch(
          "https://zoo-animal-api.herokuapp.com/animals/rand"
        );
        const data = await response.json();

        const animalWrapper = document.querySelector("#animal");

        const animalImage = document.createElement("img");
        animalImage.classList.add("animal-image");
        animalImage.src = data.image_link;
        animalImage.alt = `${data.name} picture.`;
        animalImage.width = 300;

        const animalName = document.createElement("p");
        animalName.innerText = `Name: ${data.name}`;

        const animalLatinName = document.createElement("p");
        animalLatinName.innerText = `Latin name: ${data.latin_name}`;

        const animalActiveTime = document.createElement("p");
        animalActiveTime.innerText = `Active time: ${data.active_time}`;

        const animalHabitat = document.createElement("p");
        animalHabitat.innerText = `Habitat: ${data.habitat}`;

        animalWrapper.append(animalImage);
        animalWrapper.append(animalName);
        animalWrapper.append(animalLatinName);
        animalWrapper.append(animalActiveTime);
        animalWrapper.append(animalHabitat);

        const seeMoreResponse = await fetch(
          "https://zoo-animal-api.herokuapp.com/animals/rand/5"
        );
        const seeMoreData = await seeMoreResponse.json();
        const seeMoreList = document.querySelector("#see-more-list");

        seeMoreData.forEach((seeMore) => {
          const listItem = document.createElement("li");
          const seeMoreLink = document.createElement("a");
          seeMoreLink.innerText = seeMore.name;
          seeMoreLink.target = "_blank";
          seeMoreLink.href = `https://www.google.com.br/search?q=${seeMore.name.replace(
            " ",
            "+"
          )}`;

          listItem.append(seeMoreLink);
          seeMoreList.append(listItem);
        });
      })();
    </script>
  </body>
</html>
